

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integrating QGraph SDK &mdash; QGDocs 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="QGDocs 1.0 documentation" href="index.html"/>
        <link rel="next" title="Using Web UI" href="using-web-ui.html"/>
        <link rel="prev" title="Basics" href="basics.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> QGDocs</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#why-qgraph">Why QGraph?</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html#how-do-i-get-started">How do I get started?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basics.html#how-does-it-work">How does it work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="basics.html#user-profiles-and-events">User Profiles and Events</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Integrating QGraph SDK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#integration-in-android-studio-app">Integration in Android Studio App</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-android-sdk">Using Android SDK</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="using-web-ui.html">Using Web UI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="using-web-ui.html#recent-users">1. Recent Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-web-ui.html#recent-activities">2. Recent Activities</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-web-ui.html#segments">3. Segments</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-web-ui.html#campaigns">4. Campaigns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="downloads.html">Downloads</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">QGDocs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Integrating QGraph SDK</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/integrating-qgraph-sdk.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="integrating-qgraph-sdk">
<h1>Integrating QGraph SDK<a class="headerlink" href="#integrating-qgraph-sdk" title="Permalink to this headline">¶</a></h1>
<div class="section" id="integration-in-android-studio-app">
<h2>Integration in Android Studio App<a class="headerlink" href="#integration-in-android-studio-app" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download QG.aar from
<a class="reference external" href="http://app.qgraph.io/static/sdk/android/QG.aar">http://app.qgraph.io/static/sdk/android/QG.aar</a>.</p>
<p>Put it in /libs folder of your app. Make a /libs folder if it does not already exist.</p>
<img alt="_images/libs.png" src="_images/libs.png" />
</li>
<li><p class="first">Right click on project name and click on &#8220;Open Module Settings&#8221;</p>
<img alt="_images/open-module-settings.png" src="_images/open-module-settings.png" />
</li>
<li><p class="first">Click on &#8220;+&#8221; button at the top left corner, select &#8220;Import .AAR package&#8221; option and navigate to QG.aar file in /libs folder of your app.</p>
<img alt="_images/add-aar.png" src="_images/add-aar.png" />
</li>
<li><p class="first">In the same window, select your app in &#8220;Modules&#8221; sections from left, select &#8220;Dependecies&#8221; tab in top menu and click &#8220;+&#8221; button at bottom left. Select &#8220;Module dependency&#8221; and add &#8220;QG&#8221; as dependency. Select &#8220;OK&#8221; once that is done.</p>
<img alt="_images/add-aar-to-project.png" src="_images/add-aar-to-project.png" />
</li>
</ol>
</div>
<div class="section" id="using-android-sdk">
<h2>Using Android SDK<a class="headerlink" href="#using-android-sdk" title="Permalink to this headline">¶</a></h2>
<p>Follow these steps to use our android SDK</p>
<div class="section" id="import-qg-sdk-in-your-activity">
<h3>Import QG SDK in your activity<a class="headerlink" href="#import-qg-sdk-in-your-activity" title="Permalink to this headline">¶</a></h3>
<p>In all the activity classes, starting with the class for the main activity, import QG SDK:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">com.quantumgraph.sdk.QG</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="initialization-and-cleanup-of-sdk">
<h3>Initialization and cleanup of SDK<a class="headerlink" href="#initialization-and-cleanup-of-sdk" title="Permalink to this headline">¶</a></h3>
<p>In the <code class="docutils literal"><span class="pre">onStart()</span></code> function of your activity, do the following:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
qg.onStart(getApplicationContext(), &lt;your app id&gt;, &lt;your sender id&gt;);
</pre></div>
</div>
<p>App id for your app is available from the settings page. Sender id is a string
that Google provides to you for getting registration id for users. You will
get the sender id for your app during the set up phase in our web interface.</p>
<p>In the <code class="docutils literal"><span class="pre">onStop()</span></code> function of your activity, do the following:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
qg.onStop();
</pre></div>
</div>
</div>
<div class="section" id="logging-user-profiles">
<h3>Logging user profiles<a class="headerlink" href="#logging-user-profiles" title="Permalink to this headline">¶</a></h3>
<p>User profiles are information about your users, like their name, city, date of birth
or any other information that you may wish to track. You log user profiles by using one or more of the following functions:</p>
<div class="highlight-python"><div class="highlight"><pre>qg.setUserId(String userId);
</pre></div>
</div>
<p>userId is the id of the user. It might be email, or username, or facebook id, or any other form of id that you may wish to keep.</p>
<p>Other functions that you may user are:</p>
<div class="highlight-python"><div class="highlight"><pre>qg.setName(String name);
qg.setFirstName(String firstName);
qg.setLastName(String lastName);
qg.setCity(String city);
qg.setEmail(String email);
qg.setDayOfBirth(int day);
qg.setMonthOfBirth(int month);
qg.setYearOfBirth(int year);
</pre></div>
</div>
<p>Other than these functions, you can log your own custom user parameters. You do it using:</p>
<div class="highlight-python"><div class="highlight"><pre>qg.setCustomUserParameter(String key, E value);
</pre></div>
</div>
<p>For instance, you may wish to have the user&#8217;s current rating like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qg</span><span class="o">.</span><span class="n">setCustomUserParameter</span><span class="p">(</span><span class="s">&quot;current_rating&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">);</span>
</pre></div>
</div>
<p>As implied by the function definition, the value can be of any data type.</p>
<p>Once user profile is set, you can use this to create personalized messages (For example: &#8220;Hi John, exciting deals are available in Mountain View&#8221;), or to create user segments (For example you can create a segment of users who were born after 1990 and live in Mountain View)</p>
</div>
<div class="section" id="logging-events">
<h3>Logging events<a class="headerlink" href="#logging-events" title="Permalink to this headline">¶</a></h3>
<p>Events are the activities that a user performs in your app, for example, view the products, playing a game or listening to a music. Each event has a name (for instance, the event of viewing a product is called <code class="docutils literal"><span class="pre">product_viewed</span></code>), and can have some parameters. For instance,
for event <code class="docutils literal"><span class="pre">product_viewed</span></code>, the parameters are <code class="docutils literal"><span class="pre">id</span></code> (the id of the product viewed), <code class="docutils literal"><span class="pre">name</span></code> (name of the product viewed), <code class="docutils literal"><span class="pre">image_url</span></code> (image url of the product viewed), <code class="docutils literal"><span class="pre">deep_link</span></code> (a deep link which takes one to the product page in the app), and so on.</p>
<p>It is not necessary that you provide all the parameters for a given event. You can choose to provide whatever parameters are relevant to you.</p>
<p>Once you log event information to use, you can segment users on the basis of the events (For example, you can create a segment consisting of users have not launched for past 7 days, or you can create a segment consiting of users who, in last 7 days, have purchased a product whose value is more than $1000)</p>
<p>You can also define your events, and your own parameters for any event. However, if you do that, you will need to sync up with us to be able to segment the users on the basis of these events or customize your creatives based on these events.</p>
<p>Here is how you set up some of the popular events.</p>
<p><strong>Registration Completed</strong></p>
<p>This event does not have any parameters:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject registrationDetails = new JSONObject();
try {
   qg.logEvent(&quot;registration_complted&quot;, registrationDetails);
}
</pre></div>
</div>
<p><strong>Category Viewed</strong></p>
<p>This event has one paraemter:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject categoryDetails = new JSONObject();
try {
   categoryDetails.put(&quot;category&quot;, &quot;apparels&quot;);
}
qg.logEvent(&quot;category_viewed&quot;, productDetails);
</pre></div>
</div>
<p><strong>Product Viewed</strong></p>
<p>You may choose to have the following fields:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject productDetails = new JSONObject();
try {
   productDetails.put(&quot;id&quot;, &quot;123&quot;);
   productDetails.put(&quot;name&quot;, &quot;Nikon Camera&quot;);
   productDetails.put(&quot;image_url&quot;, &quot;http://mysite.com/products/123.png&quot;);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp//products?id=123&quot;);
   productDetails.put(&quot;type&quot;, &quot;new&quot;);
   productDetails.put(&quot;category&quot;, &quot;electronics&quot;);
   productDetails.put(&quot;brand&quot;, &quot;Nikon&quot;);
   productDetails.put(&quot;color&quot;, &quot;white&quot;);
   productDetails.put(&quot;size&quot;, &quot;small&quot;);
   productDetails.put(&quot;price&quot;, 6999);
}
qg.logEvent(&quot;product_viewed&quot;, productDetails);
</pre></div>
</div>
<p><strong>Product Added to Cart</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject productDetails = new JSONObject();
try {
   productDetails.put(&quot;id&quot;, &quot;123&quot;);
   productDetails.put(&quot;name&quot;, &quot;Nikon Camera&quot;);
   productDetails.put(&quot;image_url&quot;, &quot;http://mysite.com/products/123.png&quot;);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp//products?id=123&quot;);
   productDetails.put(&quot;type&quot;, &quot;new&quot;);
   productDetails.put(&quot;category&quot;, &quot;electronics&quot;);
   productDetails.put(&quot;brand&quot;, &quot;Nikon&quot;);
   productDetails.put(&quot;color&quot;, &quot;white&quot;);
   productDetails.put(&quot;size&quot;, &quot;small&quot;);
   productDetails.put(&quot;price&quot;, 6999);
}
qg.logEvent(&quot;product_added_to_cart&quot;, productDetails);
</pre></div>
</div>
<p><strong>Product Added to Wishlist</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject productDetails = new JSONObject();
try {
   productDetails.put(&quot;id&quot;, &quot;123&quot;);
   productDetails.put(&quot;name&quot;, &quot;Nikon Camera&quot;);
   productDetails.put(&quot;image_url&quot;, &quot;http://mysite.com/products/123.png&quot;);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp//products?id=123&quot;);
   productDetails.put(&quot;type&quot;, &quot;new&quot;);
   productDetails.put(&quot;category&quot;, &quot;electronics&quot;);
   productDetails.put(&quot;brand&quot;, &quot;Nikon&quot;);
   productDetails.put(&quot;color&quot;, &quot;white&quot;);
   productDetails.put(&quot;size&quot;, &quot;small&quot;);
   productDetails.put(&quot;price&quot;, 6999);
}
qg.logEvent(&quot;product_added_to_wishlist&quot;, productDetails);
</pre></div>
</div>
<p><strong>Product Purchased</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject productDetails = new JSONObject();
try {
   productDetails.put(&quot;id&quot;, &quot;123&quot;);
   productDetails.put(&quot;name&quot;, &quot;Nikon Camera&quot;);
   productDetails.put(&quot;image_url&quot;, &quot;http://mysite.com/products/123.png&quot;);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp//products?id=123&quot;);
   productDetails.put(&quot;type&quot;, &quot;new&quot;);
   productDetails.put(&quot;category&quot;, &quot;electronics&quot;);
   productDetails.put(&quot;brand&quot;, &quot;Nikon&quot;);
   productDetails.put(&quot;color&quot;, &quot;white&quot;);
   productDetails.put(&quot;size&quot;, &quot;small&quot;);
   productDetails.put(&quot;price&quot;, 6999);
}
qg.logEvent(&quot;product_purchased&quot;, productDetails);
</pre></div>
</div>
<p><strong>Checkout Initiated</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject checkoutDetails = new JSONObject();
try {
   productDetails.put(&quot;num_products&quot;, 2);
   productDetails.put(&quot;cart_value&quot;, 12998.44);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp://myapp/cart&quot;);
}
qg.logEvent(&quot;checkout_initiated&quot;, checkoutDetails);
</pre></div>
</div>
<p><strong>Checkout Completed</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject checkoutCompleted = new JSONObject();
try {
   productDetails.put(&quot;num_products&quot;, 2);
   productDetails.put(&quot;cart_value&quot;, 12998.44);
   productDetails.put(&quot;deep_link&quot;, &quot;myapp://myapp/cart&quot;);
}
qg.logEvent(&quot;checkout_completed&quot;, checkoutDetails);
</pre></div>
</div>
<p><strong>Product Rated</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject rating = new JSONObject();
try {
   rating.put(&quot;id&quot;, &quot;1232&quot;);
   rating.put(&quot;rating&quot;, 2);
}
qg.logEvent(&quot;product_rated&quot;, rating);
</pre></div>
</div>
<p><strong>Searched</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject search = new JSONObject();
try {
   search.put(&quot;id&quot;, &quot;1232&quot;);
   search.put(&quot;rating&quot;, 2);
}
qg.logEvent(&quot;product_rated&quot;, rating);
</pre></div>
</div>
<p><strong>Reached Level</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject level = new JSONObject();
try {
   level.put(&quot;level&quot;, 23);
}
qg.logEvent(&quot;level&quot;, rating);
</pre></div>
</div>
<p><strong>Your custom events</strong></p>
<p>Apart from above predefined events, you can create your own custom events, and
have custom parameters in them:</p>
<div class="highlight-python"><div class="highlight"><pre>QG qg = QG.getInstance();
JSONObject json = new JSONObject();
try {
   json.put(&quot;my_param&quot;, &quot;some value&quot;);
   json.put(&quot;some_other_param&quot;, 123);
   json.put(&quot;what_ever&quot;, 1234.23);
}
qg.logEvent(&quot;my_custom_event&quot;, json);
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="using-web-ui.html" class="btn btn-neutral float-right" title="Using Web UI">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basics.html" class="btn btn-neutral" title="Basics"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, QuantumGraph Engineers.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>